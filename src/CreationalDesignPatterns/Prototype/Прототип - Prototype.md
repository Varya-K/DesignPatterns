# –ü—Ä–æ—Ç–æ—Ç–∏–ø - Prototype

–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ü–æ—Ä–æ–∂–¥–∞—é—â–∏–π

**–ü—Ä–æ—Ç–æ—Ç–∏–ø**¬†‚Äî —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã, –Ω–µ –≤–¥–∞–≤–∞—è—Å—å –≤ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∏—Ö¬†—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

# üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞

### –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

![image.png](image.png)

1. **Interface Prototype** –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ - —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `clone`.
2. **Concrete Prototype** —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–±—è. –ü–æ–º–∏–º–æ –±–∞–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ, –∑–¥–µ—Å—å –º–æ–≥—É—Ç –±—ã—Ç—å —Å–ø—Ä—è—Ç–∞–Ω—ã —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, –æ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, —Ä–∞—Å–ø—É—Ç—ã–≤–∞–Ω–∏–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –ø—Ä–æ—á–µ–µ.
3. **Client** —Å–æ–∑–¥–∞–µ—Ç –∫–æ–ø–∏—é –æ–±—ä–µ–∫—Ç–∞, –æ–±—Ä–∞—â–∞—è—Å—å –∫ –Ω–µ–º—É —á–µ—Ä–µ–∑ –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –æ–±—â–∏–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤

![image.png](image%201.png)

1. **Prototype Registry** –æ–±–ª–µ–≥—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞–º, —Ö—Ä–∞–Ω—è –Ω–∞–±–æ—Ä –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö, –≥–æ—Ç–æ–≤—ã—Ö –∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é –æ–±—ä–µ–∫—Ç–æ–≤. –ü—Ä–æ—Å—Ç–µ–π—à–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ —Å –ø–æ–º–æ—â—å—é —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã –≤–∏–¥–∞¬†`–∏–º—è-–ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ ‚Üí –ø—Ä–æ—Ç–æ—Ç–∏–ø`. –ù–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–∏—Å–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã –º–æ–∂–Ω–æ –º–∞—Ä–∫–∏—Ä–æ–≤–∞—Ç—å –∏ –¥—Ä—É–≥–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —É—Å–ª–æ–≤–Ω—ã–º –∏–º–µ–Ω–µ–º.

---

# ‚åó –ü—Å–µ–≤–¥–æ–∫–æ–¥

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ¬†**–ü—Ä–æ—Ç–æ—Ç–∏–ø**¬†–ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —Ç–æ—á–Ω—ã–µ –∫–æ–ø–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —Ñ–∏–≥—É—Ä, –Ω–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞—è—Å—å –∫ –∏—Ö –∫–ª–∞—Å—Å–∞–º.

![image.png](image%202.png)

–í—Å–µ —Ñ–∏–≥—É—Ä—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –º–µ—Ç–æ–¥ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Å–∞–º–æ–π —Å–µ–±—è. –ü–æ–¥–∫–ª–∞—Å—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–µ—Ç–æ–¥ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è, –∞ –∑–∞—Ç–µ–º –∫–æ–ø–∏—Ä—É—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–ª—è –≤ –ø–æ–ª—É—á–∏–≤—à–∏–π—Å—è –æ–±—ä–µ–∫—Ç.

```
// –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø.
abstract class Shape is 
	field X: int
	field Y: int
	field color: string

  // –û–±—ã—á–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
	constructor Shape() is
		// ...
  // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞.
	constructor Shape(source: Shape) is
		this()
		this.X = source.X
		this.Y = source.Y
		this.color = source.color

  // –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –æ–±—ä–µ–∫—Ç –∏–∑
  // –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–ª–∞—Å—Å–æ–≤ Shape.
	abstract method clone():Shape

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø. –ú–µ—Ç–æ–¥ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
// —Ç–µ–∫—É—â–µ–≥–æ –∫–ª–∞—Å—Å–∞, –ø–µ—Ä–µ–¥–∞–≤–∞—è –≤ –µ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å—Å—ã–ª–∫—É –Ω–∞
// —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –æ–ø–µ—Ä–∞—Ü–∏—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
// –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∞—Ç–æ–º–∞—Ä–Ω–æ–π¬†‚Äî –ø–æ–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –Ω–æ–≤–æ–≥–æ
// –æ–±—ä–µ–∫—Ç–∞ –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ù–æ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑–∞–≤–µ—Ä—à–∏—Ç
// —Ä–∞–±–æ—Ç—É, –º—ã –ø–æ–ª—É—á–∏–º –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç-–∫–ª–æ–Ω, –∞ –Ω–µ –ø—É—Å—Ç–æ–π
// –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –µ—â—ë –∑–∞–ø–æ–ª–Ω–∏—Ç—å.

class Rectangle extends Shape is 
	field width: int
	field height: int

	constructor Rectangle(source: Rectangle) is
		// –í—ã–∑–æ–≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã
	  // —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ
    // –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–ª–∞—Å—Å–µ.
	super(source)
	this.width = source.width
	this.height = source.height

	method clone(): Shape is
		return new Rectangle(this)

class Circle extends Shape is
	field radius: int

	constructor Circle(source: Circle) is
		super(source)
		this.radius = source.radius

	method clone(): Shape is
		return new Circle(this)

// –ì–¥–µ-—Ç–æ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ.
class Application is 
	field shapes: array of Shape

	constructor Application() is
		Circle circle =new Circle()
    circle.X = 10
    circle.Y = 10
    circle.radius = 20
    shapes.add(circle)

    Circle anotherCircle = circle.clone()
    shapes.add(anotherCircle)
    // anotherCircle –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ—á–Ω—É—é –∫–æ–ø–∏—é circle.

    Rectangle rectangle =new Rectangle()
    rectangle.width = 10
    rectangle.height = 20
    shapes.add(rectangle)

method businessLogic() is
	// –ü–ª—é—Å –ü—Ä–æ—Ç–æ—Ç–∏–ø–∞ –≤ —Ç–æ–º, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–±–æ—Ä
  // –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–µ –∑–Ω–∞—è –∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã.
  Array shapesCopy =new Array of Shapes.

  // –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –Ω–µ –∑–Ω–∞–µ–º, –∫–∞–∫–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –æ–±—ä–µ–∫—Ç—ã
  // –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –º–∞—Å—Å–∏–≤–∞ shapes, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –æ–±—ä—è–≤–ª–µ–Ω
  // —Å —Ç–∏–ø–æ–º Shape. –ù–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º—É, –º—ã –º–æ–∂–µ–º
  // –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã ¬´–≤—Å–ª–µ–ø—É—é¬ª. –ë—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω
  // –º–µ—Ç–æ–¥ clone —Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–º —è–≤–ª—è–µ—Ç—Å—è —ç—Ç–æ—Ç
  // –æ–±—ä–µ–∫—Ç.
	foreach (s in shapes) do
	  shapesCopy.add(s.clone())

    // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è shapesCopy –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ—á–Ω—ã–µ –∫–æ–ø–∏–∏
    // —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞ shapes.
```