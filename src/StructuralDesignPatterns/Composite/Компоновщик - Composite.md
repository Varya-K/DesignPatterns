# –ö–æ–º–ø–æ–Ω–æ–≤—â–∏–∫ - Composite

–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π

**–ö–æ–º–ø–æ–Ω–æ–≤—â–∏–∫**¬†‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∞ –∑–∞—Ç–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ–π —Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ –µ–¥–∏–Ω–∏—á–Ω—ã–π¬†–æ–±—ä–µ–∫—Ç.

---

# üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞

![image](https://github.com/user-attachments/assets/d2b6f8bd-a229-4660-981d-4d5925df038d)


1. **Component** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∏ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–µ—Ä–µ–≤–∞
2. **Leaf** - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ—Ä–µ–≤–∞, –Ω–µ –∏–º–µ—é—â–∏—Ö –æ—Ç–≤–µ—Ç–≤–ª–µ–Ω–∏–π.
–ò–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –∏–º –Ω–µ–∫–æ–º—É –±–æ–ª—å—à–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –∫–ª–∞—Å—Å—ã –ª–∏—Å—Ç—å–µ–≤ –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –ø–æ–ª–µ–∑–Ω–æ–≥–æ –∫–æ–¥–∞.
3. **Composite** (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–ª–∏ –∫–æ–º–ø–æ–∑–∏—Ç) - —ç—Ç–æ —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ—Ä–µ–≤–∞. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –Ω–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ–± –∏—Ö —Ç–∏–ø–∞—Ö. –≠—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –ø—Ä–æ—Å—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–ª–∏—Å—Ç—å—è, —Ç–∞–∫ –∏ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –ù–æ —ç—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–æ–π, –µ—Å–ª–∏ –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–ª–µ–¥—É—é—Ç –µ–¥–∏–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.
–ú–µ—Ç–æ–¥—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å—É—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ä–∞–±–æ—Ç—É —Å–≤–æ–∏–º –¥–æ—á–µ—Ä–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, —Ö–æ—Ç—è –∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —á—Ç–æ-—Ç–æ —Å–≤–æ–µ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.
4. **Client** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–µ—Ä–µ–≤–æ–º —á–µ—Ä–µ–∑ –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
–ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É, –∫–ª–∏–µ–Ω—Ç—É –Ω–µ –≤–∞–∂–Ω–æ, —á—Ç–æ –ø–µ—Ä–µ–¥ –Ω–∏–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è - –ø—Ä–æ—Å—Ç–æ–π –∏–ª–∏ —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ—Ä–µ–≤–∞.

---

# ‚åó –ü—Å–µ–≤–¥–æ–∫–æ–¥

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ¬†**–ö–æ–º–ø–æ–Ω–æ–≤—â–∏–∫**¬†–ø–æ–º–æ–≥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ñ–∏–≥—É—Ä—ã.

![image 1](https://github.com/user-attachments/assets/f125d21c-1c35-435c-b955-638168b57d0b)


–ö–ª–∞—Å—Å¬†`CompoundGraphic`¬†–º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ñ–∏–≥—É—Ä, –≤–∫–ª—é—á–∞—è —Ç–∞–∫–∏–µ –∂–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∫–∞–∫ –æ–Ω —Å–∞–º. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç–µ –∂–µ –º–µ—Ç–æ–¥—ã, —á—Ç–æ –∏ –ø—Ä–æ—Å—Ç—ã–µ —Ñ–∏–≥—É—Ä—ã. –ù–æ, –≤–º–µ—Å—Ç–æ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è, –æ–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç –≤—ã–∑–æ–≤—ã –≤—Å–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∫—É—Ä—Å–∏—é. –ó–∞—Ç–µ–º –æ–Ω –∫–∞–∫ –±—ã ¬´—Å—É–º–º–∏—Ä—É–µ—Ç¬ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ–∏–≥—É—Ä.

–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Ñ–∏–≥—É—Ä–∞–º–∏ —á–µ—Ä–µ–∑ –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∏–≥—É—Ä –∏ –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–¥ –Ω–∏–º¬†‚Äî –ø—Ä–æ—Å—Ç–∞—è —Ñ–∏–≥—É—Ä–∞ –∏–ª–∏ —Å–æ—Å—Ç–∞–≤–Ω–∞—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –∫–æ–¥—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–µ—Ä–µ–≤—å—è–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, –Ω–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞—è—Å—å –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–ª–∞—Å—Å–∞–º –æ–±—ä–µ–∫—Ç–æ–≤, —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏—Ö –¥–µ—Ä–µ–≤–æ.

```
// –û–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
interface Graphic is
	method move(x, y)
	method draw()

// –ü—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
class Dot implements Graphic is
	field x, y

	constructor Dot(x, y) { ... }

	method move(x, y) is 
		this.x += x,this.y += y

	method draw() is // –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å —Ç–æ—á–∫—É –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ X, Y.

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
class Circle extends Dot is 
	field radius

	constructor Circle(x, y, radius) { ... }

	method draw() is
		// –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—å –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ X, Y –∏ —Ä–∞–¥–∏—É—Å–æ–º R.

// –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö
// –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –í—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
// –æ–Ω –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –∫–∞–∂–¥–æ–º—É –∏–∑ –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
class CompoundGraphic implements Graphic is
	field children: array of Graphic

	method add(child: Graphic) is
		// –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Å–ø–∏—Å–æ–∫ –¥–æ—á–µ—Ä–Ω–∏—Ö.

	method remove(child: Graphic) is
		// –£–±—Ä–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–æ—á–µ—Ä–Ω–∏—Ö.

	method move(x, y) is
		foreach (child in children) do
	    child.move(x, y)

method draw() is
	// 1. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
  //     - –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
  //     - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü—ã.
  // 2. –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –ø—É–Ω–∫—Ç–∏—Ä–Ω—É—é –≥—Ä–∞–Ω–∏—Ü—É –≤–æ–∫—Ä—É–≥ –≤—Å–µ–π –æ–±–ª–∞—Å—Ç–∏.

// –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ –∫–∞–∫ —Å –µ–¥–∏–Ω–∏—á–Ω—ã–º–∏
// –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —Ç–∞–∫ –∏ —Å —Ü–µ–ª—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
class ImageEditor is 
	field all: CompoundGraphic

	method load() is
		all =new CompoundGraphic()
    all.add(new Dot(1, 2))
    all.add(new Circle(5, 3, 10))
    // ...

  // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –æ–¥–∏–Ω —Å–ª–æ–∂–Ω—ã–π
  // –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
	method groupSelected(components: array of Graphic) is 
		group = new CompoundGraphic()
		foreach (component in components) do
	    group.add(component)
	    all.remove(component)
    all.add(group)
    // –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—É–¥—É—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω—ã.
    all.draw()
```
