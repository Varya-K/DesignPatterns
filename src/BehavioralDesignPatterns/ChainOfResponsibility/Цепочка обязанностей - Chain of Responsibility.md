# –¶–µ–ø–æ—á–∫–∞ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π - Chain of Responsibility

–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π

**–¶–µ–ø–æ—á–∫–∞ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π**¬†‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–æ —Ü–µ–ø–æ—á–∫–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –ö–∞–∂–¥—ã–π –ø–æ—Å–ª–µ–¥—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–µ—à–∞–µ—Ç, –º–æ–∂–µ—Ç –ª–∏ –æ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å —Å–∞–º –∏ —Å—Ç–æ–∏—Ç –ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –¥–∞–ª—å—à–µ –ø–æ¬†—Ü–µ–ø–∏.

---

# üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞

![image](https://github.com/user-attachments/assets/c08ddb2d-bf43-40df-9a42-d06807285f3d)


1. **Handler**¬†–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –û–±—ã—á–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø–∏—Å–∞—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–æ –∏–Ω–æ–≥–¥–∞ –∑–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω –∏ –º–µ—Ç–æ–¥ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞.
2. **Base Handler**¬†‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∫–æ–¥–∞ –≤–æ –≤—Å–µ—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö.
    
    –û–±—ã—á–Ω–æ —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç –ø–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ —Ü–µ–ø–æ—á–∫–µ. –ö–ª–∏–µ–Ω—Ç —Å–≤—è–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ —Ü–µ–ø—å, –ø–æ–¥–∞–≤–∞—è —Å—Å—ã–ª–∫—É –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ —Å–µ—Ç—Ç–µ—Ä –ø–æ–ª—è. –¢–∞–∫–∂–µ –∑–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –±—ã –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–ª –∑–∞–ø—Ä–æ—Å —Å–ª–µ–¥—É—é—â–µ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É, –ø—Ä–æ–≤–µ—Ä–∏–≤ –µ–≥–æ –Ω–∞–ª–∏—á–∏–µ.
    
3. **Concrete Handlers**¬†—Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–µ—à–∞–µ—Ç, –º–æ–∂–µ—Ç –ª–∏ –æ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å, –∞ —Ç–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ —Å–ª–µ–¥—É—é—â–µ–º—É –æ–±—ä–µ–∫—Ç—É.
    
    –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–∞–º–∏ –ø–æ —Å–µ–±–µ –∏ –±—ã—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏, –ø–æ–ª—É—á–∏–≤ –≤—Å–µ –Ω—É–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.
    
4. **Client**¬†–º–æ–∂–µ—Ç –ª–∏–±–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –µ–¥–∏–Ω–æ–∂–¥—ã, –ª–∏–±–æ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –µ—ë –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ª—é–±–æ–º—É –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤ —Ü–µ–ø–æ—á–∫–∏, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–≤–æ–º—É –∏–∑ –Ω–∏—Ö.

---

# ‚åó –ü—Å–µ–≤–¥–æ–∫–æ–¥

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ¬†**–¶–µ–ø–æ—á–∫–∞ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π**¬†–æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–∫–∞–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –ø–æ–º–æ—â–∏ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

![image 1](https://github.com/user-attachments/assets/1272c95f-f6e0-4bf3-91b7-93dbc24ac4b4)


–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–±—ã—á–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞. –ö–ª–∞—Å—Å¬†`Dialog`, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏–π –≤—Å—ë –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è¬†‚Äî —ç—Ç–æ –∫–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞. –î–∏–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç¬†`Panel`, –∫–æ—Ç–æ—Ä—ã–µ, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª–∏–±–æ –¥—Ä—É–≥–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏, –ª–∏–±–æ –ø—Ä–æ—Å—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –≤—Ä–æ–¥–µ¬†`Button`.

–ü—Ä–æ—Å—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏, –µ—Å–ª–∏ –¥–ª—è –Ω–∏—Ö —É–∫–∞–∑–∞–Ω —Ç–µ–∫—Å—Ç –ø–æ–º–æ—â–∏. –ù–æ –µ—Å—Ç—å –∏ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–º–æ—â–∏ —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç. –û–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –ø–æ–º–æ—â–∏.

![image 2](https://github.com/user-attachments/assets/d05602a6-a87e-48df-9f8d-40206086f0c1)


–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–≤–æ–¥–∏—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –º—ã—à–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –∏ –∂–º—ë—Ç –∫–ª–∞–≤–∏—à—É¬†`F1`, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —à–ª—ë—Ç —ç—Ç–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–∫–∞–∑ –ø–æ–º–æ—â–∏. –ï—Å–ª–∏ –æ–Ω –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∏–∫–∞–∫–æ–π —Å–ø—Ä–∞–≤–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∑–∞–ø—Ä–æ—Å –ø—É—Ç–µ—à–µ—Å—Ç–≤—É–µ—Ç –¥–∞–ª–µ–µ –ø–æ —Å–ø–∏—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–∞, –ø–æ–∫–∞ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–ø–æ—Å–æ–±–µ–Ω –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –ø–æ–º–æ—â—å.

```
// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
interface ComponentWithContextualHelp is
	method showHelp()

// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
abstract class Component implements ComponentWithContextualHelp is
	field tooltipText: string

  // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Å–ª—É–∂–∏—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ
	// —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–≤–µ–Ω–∞ —Ü–µ–ø–æ—á–∫–∏.
	protected field container: Container

  // –ë–∞–∑–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã
  // –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–ø–ª—ã–≤–∞—é—â—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É, –µ—Å–ª–∏ –¥–ª—è –Ω–µ—ë –∑–∞–¥–∞–Ω —Ç–µ–∫—Å—Ç.
  // –í –æ–±—Ä–∞—Ç–Ω–æ–º —Å–ª—É—á–∞–µ¬†‚Äî –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å–≤–æ–µ–º—É
  // –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É, –µ—Å–ª–∏ —Ç–æ—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
	method showHelp() is
		if (tooltipText != null)
	    // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É.
		else container.showHelp()

// –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è –∫–∞–∫ –ø—Ä–æ—Å—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ç–∞–∫
// –∏ –¥—Ä—É–≥–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –ó–¥–µ—Å—å —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è —Å–≤—è–∑–∏ —Ü–µ–ø–æ—á–∫–∏. –ö–ª–∞—Å—Å
// –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —É–Ω–∞—Å–ª–µ–¥—É–µ—Ç –º–µ—Ç–æ–¥ showHelp –æ—Ç —Å–≤–æ–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è¬†‚Äî
// –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
abstract class Container extends Component is
	protected field children: array of Component

	method add(child) is
		children.add(child)
    child.container = this

// –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —É—Å—Ç—Ä–æ–∏—Ç –±–∞–∑–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
// –ø–æ–∫–∞–∑–∞ –ø–æ–º–æ—â–∏ —á–µ—Ä–µ–∑ –ø–æ–¥—Å–∫–∞–∑–∫—É, –∫–æ—Ç–æ—Ä–æ–µ –æ–Ω–∏ —É–Ω–∞—Å–ª–µ–¥—É—é—Ç –∏–∑
// –∫–ª–∞—Å—Å–∞ Component.
class Button extends Component is
	// ...

// –ù–æ —Å–ª–æ–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –º–µ—Ç–æ–¥ –ø–æ–∫–∞–∑–∞
// –ø–æ–º–æ—â–∏ –ø–æ-—Å–≤–æ–µ–º—É. –ù–æ –∏ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ –º–æ–≥—É—Ç
// –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –±–∞–∑–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –≤—ã–∑–≤–∞–≤ –º–µ—Ç–æ–¥ —Ä–æ–¥–∏—Ç–µ–ª—è.
class Panel extends Container is
	field modalHelpText: string

	method showHelp() is
		if (modalHelpText != null)
	    // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–º–æ—â—å—é.
		else
			super.showHelp()

// ...—Ç–æ –∂–µ, —á—Ç–æ –∏ –≤—ã—à–µ...
class Dialog extends Container is
	field wikiPageURL: string

	method showHelp() is
		if (wikiPageURL != null)
	    // –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É Wiki –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
		else
			super.showHelp()

// –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥.
class Application is
	// –ö–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç —Ü–µ–ø–æ—á–∫—É –ø–æ-—Å–≤–æ–µ–º—É.
	method createUI() is
		dialog = new Dialog("Budget Reports")
    dialog.wikiPageURL = "http://..."
    panel = new Panel(0, 0, 400, 800)
    panel.modalHelpText = "This panel does..."
    ok = new Button(250, 760, 50, 20, "OK")
    ok.tooltipText = "This is an OK button that..."
    cancel = new Button(320, 760, 50, 20, "Cancel")
    // ...
    panel.add(ok)
    panel.add(cancel)
    dialog.add(panel)

	// –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç.
	method onF1KeyPress() is
		component = this.getComponentAtMouseCoords()
    component.showHelp()
```
