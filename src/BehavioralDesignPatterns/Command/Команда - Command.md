# –ö–æ–º–∞–Ω–¥–∞ - Command

–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π

**–ö–æ–º–∞–Ω–¥–∞**¬†‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –≤ –æ–±—ä–µ–∫—Ç—ã, –ø–æ–∑–≤–æ–ª—è—è –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏—Ö –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–æ–≤, —Å—Ç–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –æ—á–µ—Ä–µ–¥—å, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Ö, –∞ —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ—Ç–º–µ–Ω—É¬†–æ–ø–µ—Ä–∞—Ü–∏–π.

---

# üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞

![image](https://github.com/user-attachments/assets/3d75c8fe-a0cd-4c0c-9100-df7e71b00c15)

1. **Invoker**¬†—Ö—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç –∫–æ–º–∞–Ω–¥—ã –∏ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –Ω–µ–º—É, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫–æ–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ. –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∏—Ö –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –û–Ω –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫—É—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∫–æ–º–∞–Ω–¥—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –∫–æ–º–∞–Ω–¥—ã –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞.
2. **Command**¬†–æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –û–±—ã—á–Ω–æ –∑–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω –≤—Å–µ–≥–æ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥—ã.
3. **Concrete Commands**¬†—Ä–µ–∞–ª–∏–∑—É—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, —Å–ª–µ–¥—É—è –æ–±—â–µ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∫–æ–º–∞–Ω–¥. –û–±—ã—á–Ω–æ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –¥–µ–ª–∞–µ—Ç –≤—Å—é —Ä–∞–±–æ—Ç—É —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –∞ –ª–∏—à—å –ø–µ—Ä–µ–¥–∞—ë—Ç –≤—ã–∑–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª—é, –∫–æ—Ç–æ—Ä—ã–º —è–≤–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.
    
    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—é, —Å–ª–µ–¥—É–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –≤ –≤–∏–¥–µ –ø–æ–ª–µ–π. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –æ–±—ä–µ–∫—Ç—ã –∫–æ–º–∞–Ω–¥ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏, –ø–µ—Ä–µ–¥–∞–≤–∞—è –≤ –Ω–∏—Ö –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
    
4. **Receiver**¬†—Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –ø—Ä–æ–≥—Ä–∞–º–º—ã. –í —ç—Ç–æ–π —Ä–æ–ª–∏ –º–æ–∂–µ—Ç –≤—ã—Å—Ç—É–ø–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç. –û–±—ã—á–Ω–æ –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç –≤—ã–∑–æ–≤—ã –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º. –ù–æ –∏–Ω–æ–≥–¥–∞, —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π, ¬´—Å–ª–∏–≤¬ª –∏—Ö –∫–æ–¥ –≤ –∫–ª–∞—Å—Å—ã –∫–æ–º–∞–Ω–¥.
5. **Client**¬†—Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥, –ø–µ—Ä–µ–¥–∞–≤–∞—è –≤ –Ω–∏—Ö –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å—Ä–µ–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–ª–∏–µ–Ω—Ç —Å–≤—è–∑—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π —Å —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏.

---

# ‚åó –ü—Å–µ–≤–¥–æ–∫–æ–¥

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø–∞—Ç—Ç–µ—Ä–Ω¬†**–ö–æ–º–∞–Ω–¥–∞**¬†—Å–ª—É–∂–∏—Ç –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –ø–æ–∑–≤–æ–ª—è—è –æ—Ç–º–µ–Ω—è—Ç—å –∏—Ö, –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è.

![image 1](https://github.com/user-attachments/assets/231dee98-cc8f-48f4-a4e6-b7841ab85efe)

–ö–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–µ–Ω—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–∞–Ω–¥–∞ –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞ –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞), —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –∫–æ–ø–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏—è. –ö–æ–ø–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–∞–Ω–¥, –æ—Ç–∫—É–¥–∞ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω—ã, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å –æ—Ç–º–µ–Ω—É –æ–ø–µ—Ä–∞—Ü–∏–∏.

–ö–ª–∞—Å—Å—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥ –∏ –ø—Ä–æ—á–∏–µ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∫–æ–º–∞–Ω–¥, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –Ω–∏–º–∏ —á–µ—Ä–µ–∑ –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã, –Ω–µ –∏–∑–º–µ–Ω—è—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥.

```
—è// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–¥–∞—ë—Ç –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö
// –∫–ª–∞—Å—Å–æ–≤ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∞–∑–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–º–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏.
abstract classCommand is
	protected field app: Application
	protected field editor: Editor
	protected field backup: text

	constructor Command(app: Application, editor: Editor) is
		this.app = app
		this.editor = editor

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.
	method saveBackup() is
		backup = editor.text

  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.
	method undo() is
		editor.text = backup

  // –ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –∫–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞—ë—Ç—Å—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º, —á—Ç–æ–±—ã –∫–∞–∂–¥–∞—è
  // –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∞ –µ–≥–æ –ø–æ-—Å–≤–æ–µ–º—É. –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω
  // –≤–æ–∑–≤—Ä–∞—Ç–∏—Ç—å true –∏–ª–∏ false –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ —Ç–æ–≥–æ, –∏–∑–º–µ–Ω–∏–ª–∞
  // –ª–∏ –∫–æ–º–∞–Ω–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞, –∞ –∑–Ω–∞—á–∏—Ç, –Ω—É–∂–Ω–æ –ª–∏ –µ—ë
  // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏–∏.
	abstract method execute()

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã.
class CopyCommand extends Command is
	// –ö–æ–º–∞–Ω–¥–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é, —Ç–∞–∫ –∫–∞–∫
  // –æ–Ω–∞ –Ω–µ –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.
	method execute() is
		app.clipboard = editor.getSelection()
		return false

class CutCommand extends Command is
	// –ö–æ–º–∞–Ω–¥—ã, –º–µ–Ω—è—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞, —Å–æ—Ö—Ä–∞–Ω—è—é—Ç
  // —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –ø–µ—Ä–µ–¥ —Å–≤–æ–∏–º –¥–µ–π—Å—Ç–≤–∏–µ–º –∏ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç
  // –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—è true.
	method execute() is
		saveBackup()
	  app.clipboard = editor.getSelection()
    editor.deleteSelection()
		return true

class PasteCommand extends Command is
	method execute() is
		saveBackup()
    editor.replaceSelection(app.clipboard)
		return true

// –û—Ç–º–µ–Ω–∞¬†‚Äî —ç—Ç–æ —Ç–æ–∂–µ –∫–æ–º–∞–Ω–¥–∞.
class UndoCommand extends Command is
	method execute() is
		app.undo()
		return false
		
// –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥¬†‚Äî —ç—Ç–æ —Å—Ç–µ–∫.
class CommandHistory is
	private field history: array of Command

  // –ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞—à–µ–¥—à–∏–π...
	method push(c: Command) is
		// –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞-–∏—Å—Ç–æ—Ä–∏–∏.

  // ...–≤—ã—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–º.
	method pop(): Command is
		// –î–æ—Å—Ç–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–æ–º–∞–Ω–¥—É –∏–∑ –º–∞—Å—Å–∏–≤–∞-–∏—Å—Ç–æ—Ä–∏–∏.

// –ö–ª–∞—Å—Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥
// —Ç–µ–∫—Å—Ç–æ–º. –û–Ω –æ—Ç—ã–≥—Ä—ã–≤–∞–µ—Ç —Ä–æ–ª—å –ø–æ–ª—É—á–∞—Ç–µ–ª—è ‚Äî –∫–æ–º–∞–Ω–¥—ã –¥–µ–ª–µ–≥–∏—Ä—É—é—Ç
// –µ–º—É —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è.
class Editor is
	field text: string

	method getSelection() is
		// –í–µ—Ä–Ω—É—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç.

	method deleteSelection() is
		// –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç.

	method replaceSelection(text) is
		// –í—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ –≤ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏.

// –ö–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
// –û–Ω –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è¬†‚Äî —Å–æ–∑–¥–∞—ë—Ç –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ–±—ã
// –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è.
class Application is
	field clipboard: string
	field editors: array of Editors
	field activeEditor: Editor
	field history: CommandHistory

  // –ö–æ–¥, –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—â–∏–π –∫–æ–º–∞–Ω–¥—ã –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –º–æ–∂–µ—Ç
  // –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫.
	method createUI() is
		// ...
	  copy = function() {executeCommand(
			new CopyCommand(this, activeEditor)) }
    copyButton.setCommand(copy)
    shortcuts.onKeyPress("Ctrl+C", copy)

    cut = function() { executeCommand(
			new CutCommand(this, activeEditor)) }
    cutButton.setCommand(cut)
    shortcuts.onKeyPress("Ctrl+X", cut)

    paste = function() { executeCommand(
			new PasteCommand(this, activeEditor)) }
    pasteButton.setCommand(paste)
    shortcuts.onKeyPress("Ctrl+V", paste)

    undo = function() { executeCommand(
			new UndoCommand(this, activeEditor)) }
    undoButton.setCommand(undo)
    shortcuts.onKeyPress("Ctrl+Z", undo)

	// –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–º–∞–Ω–¥—É –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞–¥–æ –ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –µ—ë –≤
	// –∏—Å—Ç–æ—Ä–∏—é.
	method executeCommand(command) is
		if (command.execute())
	    history.push(command)

	// –ë–µ—Ä—ë–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–æ–º–∞–Ω–¥—É –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –∑–∞—Å—Ç–∞–≤–ª—è–µ–º –µ—ë –≤—Å–µ
  // –æ—Ç–º–µ–Ω–∏—Ç—å. –ú—ã –Ω–µ –∑–Ω–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã, –Ω–æ —ç—Ç–æ –∏ –Ω–µ
  // –≤–∞–∂–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–Ω–∞–µ—Ç, –∫–∞–∫ –æ—Ç–º–µ–Ω–∏—Ç—å —Å–≤–æ—ë
  // –¥–µ–π—Å—Ç–≤–∏–µ.
	method undo() is
		command = history.pop()
		if (command !=null)
	    command.undo()
```
