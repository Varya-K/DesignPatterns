# –®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ - Template Method

–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π

**–®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥**¬†‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–∫–µ–ª–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –µ–≥–æ —à–∞–≥–∏ –Ω–∞ –ø–æ–¥–∫–ª–∞—Å—Å—ã. –ü–∞—Ç—Ç–µ—Ä–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª–∞—Å—Å–∞–º –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —à–∞–≥–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –Ω–µ –º–µ–Ω—è—è –µ–≥–æ –æ–±—â–µ–π¬†—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

---

# üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞

![image](https://github.com/user-attachments/assets/626706bd-3bd2-4a6a-86e7-fc4b533dff57)


1. **Abstract Class**¬†–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —à–∞–≥–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —à–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –≤—ã–∑–æ–≤–æ–≤ —ç—Ç–∏—Ö —à–∞–≥–æ–≤. –®–∞–≥–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏, —Ç–∞–∫ –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
2. **Concrete class**¬†–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ (–∏–ª–∏ –≤—Å–µ) —à–∞–≥–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å–∞–º —à–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥.

---

# ‚åó –ü—Å–µ–≤–¥–æ–∫–æ–¥

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ¬†**–®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥**¬†–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∑–∞–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –≤ –ø—Ä–æ—Å—Ç–æ–π –∏–≥—Ä–µ-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏. –î–ª—è –≤–≤–µ–¥–µ–Ω–∏—è –≤ –∏–≥—Ä—É –Ω–æ–≤–æ–π —Ä–∞—Å—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥–∫–ª–∞—Å—Å –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –Ω—ë–º –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –º–µ—Ç–æ–¥—ã.

![image 1](https://github.com/user-attachments/assets/33d1b859-0485-429e-adf9-6fd05400475e)


–í—Å–µ —Ä–∞—Å—ã –∏–≥—Ä—ã –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∏–µ –∂–µ —Ç–∏–ø—ã —é–Ω–∏—Ç–æ–≤ –∏ —Å—Ç—Ä–æ–µ–Ω–∏–π, –ø–æ—ç—Ç–æ–º—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ò–ò –±—É–¥–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π. –ù–æ —Ä–∞–∑–Ω—ã–µ —Ä–∞—Å—ã –º–æ–≥—É—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ç–∏ —à–∞–≥–∏. –¢–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ä–∫–∏ –±—É–¥—É—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–π –≤ –∞—Ç–∞–∫–µ, –ª—é–¥–∏ ‚Äî –±–æ–ª–µ–µ –∞–∫—Ç–∏–≤–Ω—ã –≤ –∑–∞—â–∏—Ç–µ, –∞ –¥–∏–∫–∏–µ –º–æ–Ω—Å—Ç—Ä—ã –≤–æ–æ–±—â–µ –Ω–µ –±—É–¥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ–º.

```
class GameAI is
	// –®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–¥–∞–Ω –≤ –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ. –û–Ω
  // —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ. –ß–∞—â–µ
  // –≤—Å–µ–≥–æ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã —è–≤–ª—è—é—Ç—Å—è —à–∞–≥–∞–º–∏ –Ω–µ–∫–æ–µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.
	method turn() is
		collectResources()
    buildStructures()
    buildUnits()
    attack()

  // –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø—Ä—è–º–æ –≤
  // –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ.
	method collectResources() is
		foreach (s inthis.builtStructures) do
	    s.collect()

  // –ê –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏.
	abstract method buildStructures()
	abstract method buildUnits()

  // –ö—Å—Ç–∞—Ç–∏, —à–∞–±–ª–æ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –≤ –∫–ª–∞—Å—Å–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ.
	method attack() is
		enemy = closestEnemy()
		if (enemy ==null)
	    sendScouts(map.center)
		else
			sendWarriors(enemy.position)

	abstract method sendScouts(position)
	abstract method sendWarriors(position)

// –ü–æ–¥–∫–ª–∞—Å—Å—ã –º–æ–≥—É—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Å–≤–æ—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —à–∞–≥–æ–≤
// –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –Ω–µ –∏–∑–º–µ–Ω—è—è —Å–∞–º —à–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥.
class OrcsAI extends GameAI is
	method buildStructures() is
		if (there are some resources) then
			// –°—Ç—Ä–æ–∏—Ç—å —Ñ–µ—Ä–º—ã, –∑–∞—Ç–µ–º –±–∞—Ä–∞–∫–∏, –∞ –ø–æ—Ç–æ–º —Ü–∏—Ç–∞–¥–µ–ª—å.

	method buildUnits() is
		if (there are plenty of resources) then
			if (there are no scouts)
	      // –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–±–∞ –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É
        // —Ä–∞–∑–≤–µ–¥—á–∏–∫–æ–≤.
			else
				// –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ö–æ—Ç–∏–Ω—Ü–∞ –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É
        // –≤–æ–∏–Ω–æ–≤.

		// ...

	method sendScouts(position) is
		if (scouts.length > 0) then
			// –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–∞–∑–≤–µ–¥—á–∏–∫–æ–≤ –Ω–∞ –ø–æ–∑–∏—Ü–∏—é.

	method sendWarriors(position) is
		if (warriors.length > 5) then
			// –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ–∏–Ω–æ–≤ –Ω–∞ –ø–æ–∑–∏—Ü–∏—é.

// –ü–æ–¥–∫–ª–∞—Å—Å—ã –º–æ–≥—É—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —à–∞–≥–∏, –Ω–æ
// –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —à–∞–≥–∏, —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ.
class MonstersAI extends GameAI is
	method collectResources() is
		// –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å.

	method buildStructures() is
		// –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å.

	method buildUnits() is
		// –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å.
```
